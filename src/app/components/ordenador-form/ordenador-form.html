<h1>Añadir nuevo ordenador</h1>

<form [formGroup]="formulario" (ngSubmit)="onSubmit()">

  <label>Marca:</label>
  <input formControlName="marca">
  <div *ngIf="formulario.get('marca')?.invalid && formulario.get('marca')?.touched">Requerido</div>

  <label>Modelo:</label>
  <input formControlName="modelo">
  <div *ngIf="formulario.get('modelo')?.invalid && formulario.get('modelo')?.touched">Requerido</div>

  <label>Procesador:</label>
  <input formControlName="procesador">
  <div *ngIf="formulario.get('procesador')?.invalid && formulario.get('procesador')?.touched">Requerido</div>

  <label>RAM:</label>
  <input formControlName="ram">
  <div *ngIf="formulario.get('ram')?.invalid && formulario.get('ram')?.touched">Requerido</div>

  <label>Precio:</label>
  <input formControlName="precio" type="number" step="0.01">
  <div *ngIf="formulario.get('precio')?.invalid && formulario.get('precio')?.touched">Requerido y debe ser un número</div>

  <label>URL de la imagen:</label>
  <input formControlName="imagen" type="url" placeholder="https://picsum.photos/id/0/400/300">
  <div *ngIf="formulario.get('imagen')?.invalid && formulario.get('imagen')?.touched">
    Debe ser una URL válida de imagen (jpg, jpeg, png, webp, gif)
  </div>
  
  <!-- Vista previa de la imagen -->
  <div *ngIf="formulario.get('imagen')?.value && formulario.get('imagen')?.valid" class="imagen-preview">
    <p>Vista previa:</p>
    <img [src]="formulario.get('imagen')?.value" alt="Vista previa" style="max-width: 200px; height: auto; border: 1px solid #ccc; border-radius: 5px;">
  </div>

  <button type="submit" [disabled]="formulario.invalid">Crear ordenador</button>
</form>

<div class="BotonVolver">
  <p routerLink="/ordenadores">Volver al catálogo</p>
</div>